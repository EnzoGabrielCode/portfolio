<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciar Projetos</title>
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>
    <header>
        <%- include('partials/navbar') %>
    </header>

    <main class="admin-container">
        
        <h2>Adicionar Novo Projeto</h2>
        <form class="admin-form" action="/projetos/add" method="POST">
            <div>
                <label for="titulo">Título:</label>
                <input type="text" id="titulo" name="titulo" required>
            </div>
            <div>
                <label for="descricao">Descrição:</label>
                <textarea id="descricao" name="descricao" rows="4" required></textarea>
            </div>
            <div>
                <label for="link">Link do Projeto:</label>
                <input type="url" id="link" name="link">
            </div>
            <div>
                <label for="gitHub">Link do GitHub:</label>
                <input type="url" id="gitHub" name="gitHub">
            </div>
            <div>
                <label for="png">Nome da Imagem (ex: projeto.png):</label>
                <input type="text" id="png" name="png">
            </div>
            <button type="submit" class="btn up" style="width: auto; padding: 10px 30px; margin-top: 10px;">Adicionar Projeto</button>
        </form>

        <h2>Projetos Existentes</h2>
        <table class="admin-table">
            <thead>
                <tr>
                    <th>Título</th>
                    <th>Descrição</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                <% projetos.forEach(projeto => { %>
                    <tr>
                        <td><%= projeto.titulo %></td>
                        <td><%= projeto.descricao.substring(0, 100) %>...</td>
                        <td class="actions-cell">
                            <a href="/projetos/edit/<%= projeto.titulo %>" class="btn-action btn-edit">Editar</a>
                            <form action="/projetos/delete/<%= projeto.titulo %>" method="POST" onsubmit="return confirm('Tem certeza?');">
                                <button type="submit" class="btn-action btn-delete">Excluir</button>
                            </form>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
        
        <a href="/projetos" class="link-voltar">Voltar para Projetos</a>

    </main>
    
    <%- include('partials/footer') %>
</body>
</html>